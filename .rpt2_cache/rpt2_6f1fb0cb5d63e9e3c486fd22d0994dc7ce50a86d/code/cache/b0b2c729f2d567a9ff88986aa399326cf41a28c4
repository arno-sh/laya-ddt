{
  "code": "export default class LogicManager {\r\n    constructor() {\r\n        this.boxHeight = 0.25;\r\n        this.tower_y = 0.5;\r\n        this.tower_top_box_x = null;\r\n        this.tower_max_x = 1.5;\r\n        this.tower_box_speed = 0.02;\r\n    }\r\n    static getInstance() {\r\n        if (this._instance == null) {\r\n            this._instance = new LogicManager();\r\n        }\r\n        return this._instance;\r\n    }\r\n    Init() {\r\n        console.log(\"init\");\r\n        this.tower_y += this.boxHeight / 2;\r\n        this.tower_top_box_x = this.CreateBox(new Laya.Vector3(this.tower_max_x, this.tower_y, 0), new Laya.Vector4(0, 1.0, 0, 1));\r\n        this.ToMinX(this.tower_top_box_x);\r\n    }\r\n    CreateBox(pos, color) {\r\n        let box = LogicManager.scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1, this.boxHeight, 1)));\r\n        box.transform.translate(pos);\r\n        let material = new Laya.BlinnPhongMaterial();\r\n        material.albedoColor = color;\r\n        box.meshRenderer.material = material;\r\n        return box;\r\n    }\r\n    ToMinX(box) {\r\n        Laya.timer.frameLoop(1, this, this.CBToMinX, [box]);\r\n    }\r\n    CBToMinX(box) {\r\n        box.transform.localPositionX -= this.tower_box_speed;\r\n        if (box.transform.localPositionX <= -this.tower_max_x) {\r\n            box.transform.localPositionX = -this.tower_max_x;\r\n            this.ToMaxX(box);\r\n            Laya.timer.clear(this, this.CBToMinX);\r\n        }\r\n    }\r\n    ToMaxX(box) {\r\n        Laya.timer.frameLoop(1, this, this.CBToMaxX, [box]);\r\n    }\r\n    CBToMaxX(box) {\r\n        box.transform.localPositionX += this.tower_box_speed;\r\n        if (box.transform.localPositionX >= this.tower_max_x) {\r\n            box.transform.localPositionX = this.tower_max_x;\r\n            this.ToMinX(box);\r\n            Laya.timer.clear(this, this.CBToMaxX);\r\n        }\r\n    }\r\n}\r\nLogicManager.camera = null;\r\nLogicManager.scene = null;\r\n",
  "references": []
}
